
% 自定义环境
\newcounter{example}[section]
\renewcommand{\theexample}{\thesection.\arabic{example}}

\newenvironment{example}[1][]{\refstepcounter{example} \textbf{例 \theexample  \ #1} \hspace{0.5em}}{\hspace{\stretch{1}} \rule{1ex}{1ex}}

\newcounter{exercise}[section]
\renewcommand{\theexercise}{\thesection.\arabic{exercise}}

\newenvironment{exercise}[1][]{\refstepcounter{exercise} \textbf{试题 \theexercise  \ #1} \hspace{0.5em}}{}

\newtheorem{definition}{定义}[section]
\newtheorem{property}{性质}[section]
\newtheorem{theorem}{定理}[section]
\newtheorem{inference}{推论}[section]
\newtheorem{axiom}{公理}[section]
\newtheorem{lemma}{引理}[section]
\newtheorem{principle}{原理}[section]
%\newtheorem{exercise}{题目}[section]
\newtheorem{topic}{问题}[section]
\newtheorem{statement}{命题}[section]
% \newtheorem{example}{例}[section]

% 使公式编号与章节关联，命令由 amsmath 宏包提供
\numberwithin{equation}{section}

% 配合 \autoref 命令使引用不只引用编号，也能引用环境命名，如: 定理 3.2.5，来自 hyperref 宏包。
%\newcommand\equationautorefname{式}
%\newcommand\footnoteautorefname{脚注}%
%\newcommand\itemautorefname{项}
\def\figureautorefname{图}
\def\tableautorefname{表}
\def\chapterautorefname{章}
\def\sectionautorefname{节}
\def\subsectionautorefname{小节}
\def\appendixautorefname{附录}
\def\propertyautorefname{性质}
\def\theoremautorefname{定理}
\def\definitionautorefname{定义}
\def\inferenceautorefname{推论}
\def\axiomautorefname{公理}
\def\lemmaautorefname{引理}
\def\principleautorefname{原理}
\def\exerciseautorefname{题目}
\def\topicautorefname{问题}
\def\statementautorefname{命题}

\newcommand\hsp[1][1]{\hspace{#1 em}}
\newcommand\fkh[1][　]{\nolinebreak\hfill\mbox{（#1}\nolinebreak ）}
%选择题括号，用法：\fkh 为右对齐括号，若想往括号内加内容，则用\fkh[XXX]
\newcommand\tk[1][3]{\nolinebreak\mbox{\underline{\hsp[#1]}}}
%填空题横线，用法：\tk 线长默认3em，若想改变长度可用\tk[数字]，或直接修改其定义
 
%选项自动排版，用法 \xx{选项}{选项}{选项}{选项}，会自动判断排版方式
\newlength\lxxa
\newlength\lxxb
\newlength\lxxc
\newlength\lxxd
\newlength\lxxmax
\newlength\lhalf
\newlength\lhalfhalf
\newcommand\xx[4]{%
\settowidth\lxxa{A. #1}%
\settowidth\lxxb{B. #2}%
\settowidth\lxxc{C. #3}%
\settowidth\lxxd{D. #4}%
\ifthenelse{
    \lengthtest{\lxxa > \lxxb}
}{%
    \setlength\lxxmax\lxxa
}{%
    \setlength\lxxmax\lxxb
}%
\ifthenelse{
    \lengthtest{\lxxmax < \lxxc}
}{%
    \setlength\lxxmax\lxxc
}{}%
\ifthenelse{
    \lengthtest{\lxxmax < \lxxd}
}{%
    \setlength\lxxmax\lxxd
}{}%
\addtolength\lxxmax{1.5em}%
\setlength\lhalf{(\linewidth-\parindent)/2}%
\setlength\lhalfhalf{\lhalf/2}%
\ifthenelse{
    \lengthtest{\lxxmax > \lhalf}
}{%
A. #1 \par B. #2 \par C. #3 \par D. #4%
}{%
    \ifthenelse{
        \lengthtest{\lxxmax > \lhalfhalf}
    }{%
        \begin{minipage}{\lhalf}
        A. #1
        \end{minipage}%
        \begin{minipage}{\lhalf}
        B. #2
        \end{minipage}\par
        \begin{minipage}{\lhalf}
        C. #3
        \end{minipage}%
        \begin{minipage}{\lhalf}
        D. #4
        \end{minipage}%
    }{%
        \begin{minipage}{\lhalfhalf}
        A. #1
        \end{minipage}%
        \begin{minipage}{\lhalfhalf}
        B. #2
        \end{minipage}%
        \begin{minipage}{\lhalfhalf}
        C. #3
        \end{minipage}%
        \begin{minipage}{\lhalfhalf}
        D. #4
        \end{minipage}%
    }%
}}
 
 
%一行四项的图形选项专用，用法 \fourtuxx{图}{图}{图}{图}
\newcommand\fourtuxx[4]{%
\begin{minipage}[b]{(\linewidth-\parindent)/4}
\centering
#1\par A
\end{minipage}%
\begin{minipage}[b]{(\linewidth-\parindent)/4}
\centering
#2\par B
\end{minipage}%
\begin{minipage}[b]{(\linewidth-\parindent)/4}
\centering
#3\par C
\end{minipage}%
\begin{minipage}[b]{(\linewidth-\parindent)/4}
\centering
#4\par D
\end{minipage}}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "2017"
%%% End:
